
# Prueba guardar errores en la BD

# Define the root logger with appender file
log4j.rootLogger=DEBUG, DB, WARN, stdout, logfile

log4j.logger.es.udc.lbd.hermes=${log4j.level}
log4j.logger.org=WARN
log4j.logger.com=WARN
log4j.logger.org.springframework.scheduling=INFO

# Console output...
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Threshold=INFO
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=[%d{dd/MM/yy HH:mm:ss}] [%p - %c{1}] %m%n


# File output
log4j.appender.logfile=org.apache.log4j.RollingFileAppender
log4j.appender.logfile.Threshold=INFO
log4j.appender.logfile.File=${log4j.appender.logfile.File}
log4j.appender.logfile.MaxFileSize=5MB
log4j.appender.logfile.MaxBackupIndex=10
log4j.appender.logfile.layout=org.apache.log4j.PatternLayout
log4j.appender.logfile.layout.ConversionPattern=[%d{dd/MM/yy HH:mm:ss}] [%p - %c{1}] %m%n

# Database 

# Define the DB appender
log4j.appender.DB=org.apache.log4j.jdbc.JDBCAppender

# Set JDBC URL
log4j.appender.DB.URL=${development.datasource.jdbcUrl}

# Set Database Driver
log4j.appender.DB.driver=${development.jdbcDriver.className}

# Set database user name and password
log4j.appender.DB.user=${development.datasource.user}
log4j.appender.DB.password=${development.datasource.password}

# Set the SQL statement to be executed.
 log4j.appender.DB.sql=INSERT INTO LOGS (user_id, message, logger, level, dated) values ('%x', '%m', '%C', '%p', to_timestamp('%d', 'YYYY-MM-DD HH24:MI:SS,MS'))
# Define the layout for file appender
log4j.appender.DB.layout=org.apache.log4j.PatternLayout
log4j.appender.DB.layout.ConversionPattern=[%d{dd/MM/yy HH:mm:ss}] [%p - %c{1}] %m%n